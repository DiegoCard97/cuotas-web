<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Panel de Cuotas</title>

    <style>
        body {
            font-family: Arial, sans-serif;
        }

        h2 {
            margin-top: 40px;
            padding: 8px;
        }

        .manada { background-color: #fff3cd; }
        .scout  { background-color: #d4edda; }
        .raider { background-color: #d1ecf1; }
        .rover  { background-color: #eb4c2f; }

        table {
            border-collapse: collapse;
            width: 100%;
            margin-bottom: 20px;
        }

        th, td {
            border: 1px solid #999;
            padding: 6px;
            text-align: center;
        }

        th {
            background-color: #eee;
        }

        .ok {
            background-color: #c8f7c5;
            font-weight: bold;
        }

        .no {
            background-color: #f7c5c5;
            font-weight: bold;
        }

        .acciones {
            margin-bottom: 20px;
        }

        a.boton {
            display: inline-block;
            padding: 8px 12px;
            background-color: #2c7be5;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            margin-right: 10px;
        }

        a.boton:hover {
            background-color: #1a5dc9;
        }
    </style>
</head>

<body>

<h1>Panel de cuotas</h1>

<div class="acciones">
    <a href="/personas" class="boton">‚ûï Personas</a>
    <a href="/pago" class="boton">üí∞ Registrar pago</a>
    <a href="/cuotas" class="boton">üìÜ Administrar cuotas</a>
    <a href="/pagos" class="boton">üìÑ Administrar pagos</a>
    <a href="/logout" class="boton">üö™ Salir</a>
</div>

{% set cuadros = [
    ("MANADA", "manada"),
    ("SCOUT", "scout"),
    ("RAIDER", "raider"),
    ("ROVER", "rover")
] %}

{% for nombre_cuadro, clase in cuadros %}
    <h2 class="{{ clase }}">{{ nombre_cuadro }}</h2>

    <table>
        <tr>
            <th>Persona</th>
            {% for mes in meses %}
                <th>{{ mes }}</th>
            {% endfor %}
        </tr>

        {% for p in datos if p.cuadro == nombre_cuadro %}
        <tr>
            <td><strong>{{ p.nombre }}</strong></td>

            {% for mes in meses %}
                {% if p.meses[mes] %}
                    <td class="ok">‚úî</td>
                {% else %}
                    <td class="no">‚ùå</td>
                {% endif %}
            {% endfor %}
        </tr>
        {% endfor %}
    </table>
{% endfor %}

<h2>Pagos registrados</h2>

<table>
    <tr>
        <th>Persona</th>
        <th>Mes</th>
        <th>Monto</th>
        <th>Recibo</th>
    </tr>

    {% for pago in pagos %}
    <tr>
        <td>{{ pago[1] }}</td>
        <td>{{ pago[2] }}</td>
        <td>${{ pago[3] }}</td>
        <td>
            <a href="/recibo/{{ pago[0] }}">üìÑ PDF</a>
        </td>
    </tr>
    {% endfor %}
</table>

</body>
</html>

